{"version":3,"sources":["views/Voting/helpers.ts","views/Voting/config.ts","components/Tags.tsx","state/voting/hooks.ts","../node_modules/lodash/times.js","views/Voting/components/Proposals/tags.tsx","views/Voting/components/BreadcrumbLink.tsx","../node_modules/lodash/_castFunction.js","../node_modules/lodash/toInteger.js","views/Voting/components/DesktopImage.tsx","views/Voting/components/Hero.tsx","views/Voting/components/Footer.tsx","views/Voting/components/Proposals/ProposalsLoading.tsx","views/Voting/components/Proposals/TabMenu.tsx","views/Voting/components/Proposals/TimeFrame.tsx","views/Voting/components/Proposals/ProposalRow.tsx","views/Voting/components/Proposals/Filters.tsx","views/Voting/components/Proposals/Proposals.tsx","views/Voting/index.tsx"],"names":["isCoreProposal","proposal","author","toLowerCase","ADMIN_ADDRESS","filterProposalsByType","proposals","proposalType","ProposalType","COMMUNITY","filter","CORE","ALL","filterProposalsByState","state","generateMetaData","plugins","network","strategies","name","params","symbol","address","getCakeAddress","decimals","generatePayloadData","version","SNAPSHOT_VERSION","timestamp","Date","now","toFixed","space","PANCAKE_SPACE","sendSnaphotData","message","a","fetch","SNAPSHOT_HUB_API","method","headers","Accept","body","JSON","stringify","response","ok","json","error","Error","error_description","data","getVotingPower","account","poolAddresses","block","simpleRpcProvider","getBlockNumber","blockNumber","SNAPSHOT_VOTING_API","calculateVoteResults","votes","reduce","accum","vote","choiceText","choices","choice","getTotalFromVotes","power","BigNumber","metadata","votingPower","plus","BIG_ZERO","PROPOSALS_TO_SHOW","IPFS_GATEWAY","VOTE_THRESHOLD","CoreTag","props","t","useTranslation","variant","outline","startIcon","width","color","mr","CommunityTag","VoteNowTag","SoonTag","ClosedTag","useGetProposals","useSelector","voting","Object","values","useGetProposal","proposalId","useGetVotes","_inValid","useGetVotingStateLoadingStatus","voteLoadingStatus","useGetProposalLoadingStatus","proposalLoadingStatus","baseTimes","require","castFunction","toInteger","MAX_ARRAY_LENGTH","nativeMin","Math","min","module","exports","n","iteratee","index","length","result","ProposalStateTag","proposalState","ProposalState","ACTIVE","PENDING","ProposalTypeTag","BreadcrumbLink","styled","Link","theme","colors","primaryBright","identity","value","toFinite","remainder","DesktopImage","Image","mediaQueries","lg","StyledHero","Box","gradients","bubblegum","Hero","Container","alignItems","justifyContent","pr","as","scale","mb","to","src","height","StyledFooter","Footer","Row","Flex","cardBorder","Wrapper","div","ProposalsLoading","times","map","py","px","style","flex","StyledTabMenu","input","getIndexFromType","TabMenu","onTypeChange","activeIndex","onItemClick","getTypeFromIndex","getFormattedDate","date","toDate","format","TimeFrame","startDate","endDate","textProps","fontSize","ml","CLOSED","StyledProposalRow","dropdown","ProposalRow","votingLink","id","bold","title","start","end","StyledFilters","attrs","FilterLabel","label","options","Filters","filterState","onFilterChange","isLoading","checked","onChange","evt","radioValue","currentTarget","disabled","Proposals","useState","setState","proposalStatus","dispatch","useAppDispatch","VotingStateLoadingStatus","LOADING","isIdle","IDLE","useEffect","fetchProposals","first","filteredProposals","newProposalType","prevState","newFilterState","p","Chrome","Content","Voting","flexDirection","minHeight"],"mappings":"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","file":"static/js/11.81b1f74c.chunk.js","sourcesContent":["import BigNumber from 'bignumber.js'\r\nimport { getCakeAddress } from 'utils/addressHelpers'\r\nimport { SNAPSHOT_HUB_API, SNAPSHOT_VOTING_API } from 'config/constants/endpoints'\r\nimport { BIG_ZERO } from 'utils/bigNumber'\r\nimport { Proposal, ProposalState, ProposalType, Vote } from 'state/types'\r\nimport { simpleRpcProvider } from 'utils/providers'\r\nimport { ADMIN_ADDRESS, PANCAKE_SPACE, SNAPSHOT_VERSION } from './config'\r\n\r\nexport const isCoreProposal = (proposal: Proposal) => {\r\n  return proposal.author.toLowerCase() === ADMIN_ADDRESS.toLowerCase()\r\n}\r\n\r\nexport const filterProposalsByType = (proposals: Proposal[], proposalType: ProposalType) => {\r\n  switch (proposalType) {\r\n    case ProposalType.COMMUNITY:\r\n      return proposals.filter((proposal) => !isCoreProposal(proposal))\r\n    case ProposalType.CORE:\r\n      return proposals.filter((proposal) => isCoreProposal(proposal))\r\n    case ProposalType.ALL:\r\n    default:\r\n      return proposals\r\n  }\r\n}\r\n\r\nexport const filterProposalsByState = (proposals: Proposal[], state: ProposalState) => {\r\n  return proposals.filter((proposal) => proposal.state === state)\r\n}\r\n\r\nexport interface Message {\r\n  address: string\r\n  msg: string\r\n  sig: string\r\n}\r\n\r\n/**\r\n * Generates metadata required by snapshot to validate payload\r\n */\r\nexport const generateMetaData = () => {\r\n  return {\r\n    plugins: {},\r\n    network: 56,\r\n    strategies: [{ name: 'cake', params: { symbol: 'CAKE', address: getCakeAddress(), decimals: 18 } }],\r\n  }\r\n}\r\n\r\n/**\r\n * Returns data that is required on all snapshot payloads\r\n */\r\nexport const generatePayloadData = () => {\r\n  return {\r\n    version: SNAPSHOT_VERSION,\r\n    timestamp: (Date.now() / 1e3).toFixed(),\r\n    space: PANCAKE_SPACE,\r\n  }\r\n}\r\n\r\n/**\r\n * General function to send commands to the snapshot api\r\n */\r\nexport const sendSnaphotData = async (message: Message) => {\r\n  const response = await fetch(SNAPSHOT_HUB_API, {\r\n    method: 'post',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(message),\r\n  })\r\n\r\n  if (!response.ok) {\r\n    const error = await response.json()\r\n    throw new Error(error?.error_description)\r\n  }\r\n\r\n  const data = await response.json()\r\n  return data\r\n}\r\n\r\nexport const getVotingPower = async (account: string, poolAddresses: string[], block?: number) => {\r\n  const blockNumber = block || (await simpleRpcProvider.getBlockNumber())\r\n  const response = await fetch(`${SNAPSHOT_VOTING_API}/power`, {\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      address: account,\r\n      block: blockNumber,\r\n      poolAddresses,\r\n    }),\r\n  })\r\n  const data = await response.json()\r\n  return data.data\r\n}\r\n\r\nexport const calculateVoteResults = (votes: Vote[]): { [key: string]: Vote[] } => {\r\n  return votes.reduce((accum, vote) => {\r\n    const choiceText = vote.proposal.choices[vote.choice - 1]\r\n\r\n    return {\r\n      ...accum,\r\n      [choiceText]: accum[choiceText] ? [...accum[choiceText], vote] : [vote],\r\n    }\r\n  }, {})\r\n}\r\n\r\nexport const getTotalFromVotes = (votes: Vote[]) => {\r\n  return votes.reduce((accum, vote) => {\r\n    const power = new BigNumber(vote.metadata?.votingPower)\r\n    return accum.plus(power)\r\n  }, BIG_ZERO)\r\n}\r\n","export const PROPOSALS_TO_SHOW = 10\r\nexport const ADMIN_ADDRESS = '0x6eaf1b33b8672c5dc40aB8f4bA3A0111723126c7'\r\nexport const IPFS_GATEWAY = 'https://gateway.ipfs.io/ipfs'\r\nexport const SNAPSHOT_VERSION = '0.1.3'\r\nexport const PANCAKE_SPACE = 'cake.eth'\r\nexport const VOTE_THRESHOLD = 10\r\n","import React from 'react'\r\nimport {\r\n  Tag,\r\n  VerifiedIcon,\r\n  CommunityIcon,\r\n  RefreshIcon,\r\n  AutoRenewIcon,\r\n  TagProps,\r\n  TimerIcon,\r\n  BlockIcon,\r\n  VoteIcon,\r\n} from '@pancakeswap/uikit'\r\nimport { useTranslation } from 'contexts/Localization'\r\n\r\nconst CoreTag: React.FC<TagProps> = (props) => {\r\n  const { t } = useTranslation()\r\n  return (\r\n    <Tag variant=\"secondary\" outline startIcon={<VerifiedIcon width=\"18px\" color=\"secondary\" mr=\"4px\" />} {...props}>\r\n      {t('Core')}\r\n    </Tag>\r\n  )\r\n}\r\n\r\nconst CommunityTag: React.FC<TagProps> = (props) => {\r\n  const { t } = useTranslation()\r\n  return (\r\n    <Tag variant=\"failure\" outline startIcon={<CommunityIcon width=\"18px\" color=\"failure\" mr=\"4px\" />} {...props}>\r\n      {t('Community')}\r\n    </Tag>\r\n  )\r\n}\r\n\r\nconst DualTag: React.FC<TagProps> = (props) => {\r\n  const { t } = useTranslation()\r\n  return (\r\n    <Tag variant=\"textSubtle\" outline {...props}>\r\n      {t('Dual')}\r\n    </Tag>\r\n  )\r\n}\r\n\r\nconst ManualPoolTag: React.FC<TagProps> = (props) => {\r\n  const { t } = useTranslation()\r\n  return (\r\n    <Tag variant=\"secondary\" outline startIcon={<RefreshIcon width=\"18px\" color=\"secondary\" mr=\"4px\" />} {...props}>\r\n      {t('Manual')}\r\n    </Tag>\r\n  )\r\n}\r\n\r\nconst CompoundingPoolTag: React.FC<TagProps> = (props) => {\r\n  const { t } = useTranslation()\r\n  return (\r\n    <Tag variant=\"success\" outline startIcon={<AutoRenewIcon width=\"18px\" color=\"success\" mr=\"4px\" />} {...props}>\r\n      {t('Auto')}\r\n    </Tag>\r\n  )\r\n}\r\n\r\nconst VoteNowTag: React.FC<TagProps> = (props) => {\r\n  const { t } = useTranslation()\r\n  return (\r\n    <Tag variant=\"success\" startIcon={<VoteIcon width=\"18px\" color=\"success\" mr=\"4px\" />} {...props}>\r\n      {t('Vote Now')}\r\n    </Tag>\r\n  )\r\n}\r\n\r\nconst SoonTag: React.FC<TagProps> = (props) => {\r\n  const { t } = useTranslation()\r\n  return (\r\n    <Tag variant=\"binance\" startIcon={<TimerIcon width=\"18px\" color=\"success\" mr=\"4px\" />} {...props}>\r\n      {t('Soon')}\r\n    </Tag>\r\n  )\r\n}\r\n\r\nconst ClosedTag: React.FC<TagProps> = (props) => {\r\n  const { t } = useTranslation()\r\n  return (\r\n    <Tag variant=\"textDisabled\" startIcon={<BlockIcon width=\"18px\" color=\"textDisabled\" mr=\"4px\" />} {...props}>\r\n      {t('Closed')}\r\n    </Tag>\r\n  )\r\n}\r\n\r\nexport { CoreTag, CommunityTag, DualTag, ManualPoolTag, CompoundingPoolTag, VoteNowTag, SoonTag, ClosedTag }\r\n","import { useSelector } from 'react-redux'\r\nimport { State } from '../types'\r\n\r\n// Voting\r\nexport const useGetProposals = () => {\r\n  const proposals = useSelector((state: State) => state.voting.proposals)\r\n  return Object.values(proposals)\r\n}\r\n\r\nexport const useGetProposal = (proposalId: string) => {\r\n  const proposal = useSelector((state: State) => state.voting.proposals[proposalId])\r\n  return proposal\r\n}\r\n\r\nexport const useGetVotes = (proposalId: string) => {\r\n  const votes = useSelector((state: State) => state.voting.votes[proposalId])\r\n  return votes ? votes.filter((vote) => vote._inValid !== true) : []\r\n}\r\n\r\nexport const useGetVotingStateLoadingStatus = () => {\r\n  const votingStatus = useSelector((state: State) => state.voting.voteLoadingStatus)\r\n  return votingStatus\r\n}\r\n\r\nexport const useGetProposalLoadingStatus = () => {\r\n  const votingStatus = useSelector((state: State) => state.voting.proposalLoadingStatus)\r\n  return votingStatus\r\n}\r\n","var baseTimes = require('./_baseTimes'),\n    castFunction = require('./_castFunction'),\n    toInteger = require('./toInteger');\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Invokes the iteratee `n` times, returning an array of the results of\n * each invocation. The iteratee is invoked with one argument; (index).\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n * @example\n *\n * _.times(3, String);\n * // => ['0', '1', '2']\n *\n *  _.times(4, _.constant(0));\n * // => [0, 0, 0, 0]\n */\nfunction times(n, iteratee) {\n  n = toInteger(n);\n  if (n < 1 || n > MAX_SAFE_INTEGER) {\n    return [];\n  }\n  var index = MAX_ARRAY_LENGTH,\n      length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n  iteratee = castFunction(iteratee);\n  n -= MAX_ARRAY_LENGTH;\n\n  var result = baseTimes(length, iteratee);\n  while (++index < n) {\n    iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = times;\n","import React from 'react'\r\nimport { TagProps } from '@pancakeswap/uikit'\r\nimport { ClosedTag, CommunityTag, CoreTag, SoonTag, VoteNowTag } from 'components/Tags'\r\nimport { ProposalState } from 'state/types'\r\n\r\ninterface ProposalStateTagProps extends TagProps {\r\n  proposalState: ProposalState\r\n}\r\n\r\nexport const ProposalStateTag: React.FC<ProposalStateTagProps> = ({ proposalState, ...props }) => {\r\n  if (proposalState === ProposalState.ACTIVE) {\r\n    return <VoteNowTag {...props} />\r\n  }\r\n\r\n  if (proposalState === ProposalState.PENDING) {\r\n    return <SoonTag {...props} />\r\n  }\r\n\r\n  return <ClosedTag {...props} />\r\n}\r\n\r\ninterface ProposalTypeTagProps extends TagProps {\r\n  isCoreProposal: boolean\r\n}\r\n\r\nexport const ProposalTypeTag: React.FC<ProposalTypeTagProps> = ({ isCoreProposal, ...props }) => {\r\n  if (isCoreProposal) {\r\n    return <CoreTag {...props} />\r\n  }\r\n\r\n  return <CommunityTag {...props} />\r\n}\r\n","import { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\n\r\nconst BreadcrumbLink = styled(Link)`\r\n  color: ${({ theme }) => theme.colors.primaryBright};\r\n`\r\n\r\nexport default BreadcrumbLink\r\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","import { Image } from '@pancakeswap/uikit'\r\nimport styled from 'styled-components'\r\n\r\nconst DesktopImage = styled(Image)`\r\n  display: none;\r\n\r\n  ${({ theme }) => theme.mediaQueries.lg} {\r\n    display: block;\r\n  }\r\n`\r\n\r\nexport default DesktopImage\r\n","import React from 'react'\r\nimport { Box, Button, Flex, Heading, ProposalIcon } from '@pancakeswap/uikit'\r\nimport styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport Container from 'components/Layout/Container'\r\nimport DesktopImage from './DesktopImage'\r\n\r\nconst StyledHero = styled(Box)`\r\n  background: ${({ theme }) => theme.colors.gradients.bubblegum};\r\n  padding-bottom: 32px;\r\n  padding-top: 32px;\r\n`\r\n\r\nconst Hero = () => {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <StyledHero>\r\n      <Container>\r\n        <Flex alignItems=\"center\" justifyContent=\"space-between\">\r\n          <Box pr=\"32px\">\r\n            <Heading as=\"h1\" scale=\"xxl\" color=\"secondary\" mb=\"16px\">\r\n              {t('Voting')}\r\n            </Heading>\r\n            <Heading as=\"h3\" scale=\"lg\" mb=\"16px\">\r\n              {t('Have your say in the future of the PancakeSwap Ecosystem')}\r\n            </Heading>\r\n            <Button\r\n              startIcon={<ProposalIcon color=\"currentColor\" width=\"24px\" />}\r\n              as={Link}\r\n              to=\"/voting/proposal/create\"\r\n            >\r\n              {t('Make a Proposal')}\r\n            </Button>\r\n          </Box>\r\n          <DesktopImage src=\"/images/voting/voting-presents.png\" width={361} height={214} />\r\n        </Flex>\r\n      </Container>\r\n    </StyledHero>\r\n  )\r\n}\r\n\r\nexport default Hero\r\n","import React from 'react'\r\nimport { Box, Button, Text, Heading, ProposalIcon, Flex } from '@pancakeswap/uikit'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport Container from 'components/Layout/Container'\r\nimport DesktopImage from './DesktopImage'\r\n\r\nconst StyledFooter = styled(Box)`\r\n  background: ${({ theme }) => theme.colors.gradients.bubblegum};\r\n  padding-bottom: 32px;\r\n  padding-top: 32px;\r\n`\r\n\r\nconst Footer = () => {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <StyledFooter>\r\n      <Container>\r\n        <Flex alignItems=\"center\" justifyContent=\"space-between\">\r\n          <Box pr=\"32px\">\r\n            <Heading as=\"h2\" scale=\"lg\" mb=\"16px\">\r\n              {t('Got a suggestion?')}\r\n            </Heading>\r\n            <Text as=\"p\">\r\n              {t('Community proposals are a great way to see how the community feels about your ideas.')}\r\n            </Text>\r\n            <Text as=\"p\" mb=\"16px\">\r\n              {t(\r\n                \"They won't necessarily be implemented if the community votes successful, but suggestions with a lot of community support may be made into Core proposals.\",\r\n              )}\r\n            </Text>\r\n\r\n            <Button\r\n              startIcon={<ProposalIcon color=\"currentColor\" width=\"24px\" />}\r\n              as={Link}\r\n              to=\"/voting/proposal/create\"\r\n            >\r\n              {t('Make a Proposal')}\r\n            </Button>\r\n          </Box>\r\n          <DesktopImage src=\"/images/voting/voting-bunny.png\" width={173} height={234} />\r\n        </Flex>\r\n      </Container>\r\n    </StyledFooter>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\r\nimport { Box, Flex, Skeleton } from '@pancakeswap/uikit'\r\nimport styled from 'styled-components'\r\nimport times from 'lodash/times'\r\nimport { PROPOSALS_TO_SHOW } from '../../config'\r\n\r\nconst Row = styled(Flex)`\r\n  border-bottom: 1px solid ${({ theme }) => theme.colors.cardBorder};\r\n`\r\n\r\nconst Wrapper = styled.div`\r\n  ${Row}:last-child {\r\n    border-bottom: 0;\r\n  }\r\n`\r\n\r\nconst ProposalsLoading = () => {\r\n  return (\r\n    <Wrapper>\r\n      {times(PROPOSALS_TO_SHOW).map((index) => (\r\n        <Row key={index} alignItems=\"center\" justifyContent=\"space-between\" py=\"16px\" px=\"24px\">\r\n          <Box style={{ flex: 1 }}>\r\n            <Skeleton height=\"21px\" width=\"70%\" mb=\"4px\" />\r\n            <Skeleton height=\"21px\" width=\"30%\" mb=\"4px\" />\r\n            <Skeleton height=\"21px\" width=\"40%\" />\r\n          </Box>\r\n          <Skeleton height=\"32px\" width=\"32px\" />\r\n        </Row>\r\n      ))}\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default ProposalsLoading\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { TabMenu as UIKitTabMenu, Tab, Flex, VerifiedIcon, CommunityIcon } from '@pancakeswap/uikit'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { ProposalType } from 'state/types'\r\n\r\ninterface TabMenuProps {\r\n  proposalType: ProposalType\r\n  onTypeChange: (proposalType: ProposalType) => void\r\n}\r\n\r\nconst StyledTabMenu = styled.div`\r\n  background-color: ${({ theme }) => theme.colors.input};\r\n  padding-top: 16px;\r\n`\r\n\r\nconst getIndexFromType = (proposalType: ProposalType) => {\r\n  switch (proposalType) {\r\n    case ProposalType.COMMUNITY:\r\n      return 1\r\n    case ProposalType.ALL:\r\n      return 2\r\n    case ProposalType.CORE:\r\n    default:\r\n      return 0\r\n  }\r\n}\r\n\r\nconst getTypeFromIndex = (index: number) => {\r\n  switch (index) {\r\n    case 1:\r\n      return ProposalType.COMMUNITY\r\n    case 2:\r\n      return ProposalType.ALL\r\n    default:\r\n      return ProposalType.CORE\r\n  }\r\n}\r\n\r\nconst TabMenu: React.FC<TabMenuProps> = ({ proposalType, onTypeChange }) => {\r\n  const { t } = useTranslation()\r\n  const handleItemClick = (index: number) => {\r\n    onTypeChange(getTypeFromIndex(index))\r\n  }\r\n\r\n  return (\r\n    <StyledTabMenu>\r\n      <UIKitTabMenu activeIndex={getIndexFromType(proposalType)} onItemClick={handleItemClick}>\r\n        <Tab>\r\n          <Flex alignItems=\"center\">\r\n            <VerifiedIcon color=\"currentColor\" mr=\"4px\" />\r\n            {t('Core')}\r\n          </Flex>\r\n        </Tab>\r\n        <Tab>\r\n          {' '}\r\n          <Flex alignItems=\"center\">\r\n            <CommunityIcon color=\"currentColor\" mr=\"4px\" />\r\n            {t('Community')}\r\n          </Flex>\r\n        </Tab>\r\n        <Tab>All</Tab>\r\n      </UIKitTabMenu>\r\n    </StyledTabMenu>\r\n  )\r\n}\r\n\r\nexport default TabMenu\r\n","import React from 'react'\r\nimport { Text } from '@pancakeswap/uikit'\r\nimport { toDate, format } from 'date-fns'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { ProposalState } from 'state/types'\r\n\r\ninterface TimeFrameProps {\r\n  startDate: number\r\n  endDate: number\r\n  proposalState: ProposalState\r\n}\r\n\r\nconst getFormattedDate = (timestamp: number) => {\r\n  const date = toDate(timestamp * 1000)\r\n  return format(date, 'MMM do, yyyy HH:mm')\r\n}\r\n\r\nconst TimeFrame: React.FC<TimeFrameProps> = ({ startDate, endDate, proposalState }) => {\r\n  const { t } = useTranslation()\r\n  const textProps = {\r\n    fontSize: '16px',\r\n    color: 'textSubtle',\r\n    ml: '8px',\r\n  }\r\n\r\n  if (proposalState === ProposalState.CLOSED) {\r\n    return <Text {...textProps}>{t('Ended %date%', { date: getFormattedDate(endDate) })}</Text>\r\n  }\r\n\r\n  if (proposalState === ProposalState.PENDING) {\r\n    return <Text {...textProps}>{t('Starts %date%', { date: getFormattedDate(startDate) })}</Text>\r\n  }\r\n\r\n  return <Text {...textProps}>{t('Ends %date%', { date: getFormattedDate(endDate) })}</Text>\r\n}\r\n\r\nexport default TimeFrame\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { ArrowForwardIcon, Box, IconButton, Flex, Text } from '@pancakeswap/uikit'\r\nimport styled from 'styled-components'\r\nimport { Proposal } from 'state/types'\r\nimport { isCoreProposal } from '../../helpers'\r\nimport TimeFrame from './TimeFrame'\r\nimport { ProposalStateTag, ProposalTypeTag } from './tags'\r\n\r\ninterface ProposalRowProps {\r\n  proposal: Proposal\r\n}\r\n\r\nconst StyledProposalRow = styled(Link)`\r\n  align-items: center;\r\n  border-bottom: 1px solid ${({ theme }) => theme.colors.cardBorder};\r\n  display: flex;\r\n  padding: 16px 24px;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.colors.dropdown};\r\n  }\r\n`\r\n\r\nconst ProposalRow: React.FC<ProposalRowProps> = ({ proposal }) => {\r\n  const votingLink = `/voting/proposal/${proposal.id}`\r\n\r\n  return (\r\n    <StyledProposalRow to={votingLink}>\r\n      <Box as=\"span\" style={{ flex: 1 }}>\r\n        <Text bold mb=\"8px\">\r\n          {proposal.title}\r\n        </Text>\r\n        <Flex alignItems=\"center\" mb=\"8px\">\r\n          <TimeFrame startDate={proposal.start} endDate={proposal.end} proposalState={proposal.state} />\r\n        </Flex>\r\n        <Flex alignItems=\"center\">\r\n          <ProposalStateTag proposalState={proposal.state} />\r\n          <ProposalTypeTag isCoreProposal={isCoreProposal(proposal)} ml=\"8px\" />\r\n        </Flex>\r\n      </Box>\r\n      <IconButton variant=\"text\">\r\n        <ArrowForwardIcon width=\"24px\" />\r\n      </IconButton>\r\n    </StyledProposalRow>\r\n  )\r\n}\r\n\r\nexport default ProposalRow\r\n","import React, { ChangeEvent } from 'react'\r\nimport { Flex, Radio, Text } from '@pancakeswap/uikit'\r\nimport styled from 'styled-components'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { ProposalState } from 'state/types'\r\n\r\ninterface FiltersProps {\r\n  filterState: ProposalState\r\n  onFilterChange: (filterState: ProposalState) => void\r\n  isLoading: boolean\r\n}\r\n\r\nconst StyledFilters = styled(Flex).attrs({ alignItems: 'center' })`\r\n  border-bottom: 1px solid ${({ theme }) => theme.colors.cardBorder};\r\n  padding: 16px 24px;\r\n`\r\n\r\nconst FilterLabel = styled.label`\r\n  align-items: center;\r\n  cursor: pointer;\r\n  display: flex;\r\n  margin-right: 16px;\r\n`\r\n\r\nconst options = [\r\n  { value: ProposalState.ACTIVE, label: 'Vote Now' },\r\n  { value: ProposalState.PENDING, label: 'Soon' },\r\n  { value: ProposalState.CLOSED, label: 'Closed' },\r\n]\r\n\r\nconst Filters: React.FC<FiltersProps> = ({ filterState, onFilterChange, isLoading }) => {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <StyledFilters>\r\n      {options.map(({ value, label }) => {\r\n        const handleChange = (evt: ChangeEvent<HTMLInputElement>) => {\r\n          const { value: radioValue } = evt.currentTarget\r\n          onFilterChange(radioValue as ProposalState)\r\n        }\r\n\r\n        return (\r\n          <FilterLabel key={label}>\r\n            <Radio\r\n              scale=\"sm\"\r\n              value={value}\r\n              checked={filterState === value}\r\n              onChange={handleChange}\r\n              disabled={isLoading}\r\n            />\r\n            <Text ml=\"8px\">{t(label)}</Text>\r\n          </FilterLabel>\r\n        )\r\n      })}\r\n    </StyledFilters>\r\n  )\r\n}\r\n\r\nexport default Filters\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Box, Breadcrumbs, Card, Flex, Heading, Text } from '@pancakeswap/uikit'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport Container from 'components/Layout/Container'\r\nimport { useAppDispatch } from 'state'\r\nimport { fetchProposals } from 'state/voting'\r\nimport { useGetProposalLoadingStatus, useGetProposals } from 'state/voting/hooks'\r\nimport { ProposalState, ProposalType, VotingStateLoadingStatus } from 'state/types'\r\nimport { filterProposalsByState, filterProposalsByType } from '../../helpers'\r\nimport BreadcrumbLink from '../BreadcrumbLink'\r\nimport ProposalsLoading from './ProposalsLoading'\r\nimport TabMenu from './TabMenu'\r\nimport ProposalRow from './ProposalRow'\r\nimport Filters from './Filters'\r\n\r\ninterface State {\r\n  proposalType: ProposalType\r\n  filterState: ProposalState\r\n}\r\n\r\nconst Proposals = () => {\r\n  const { t } = useTranslation()\r\n  const [state, setState] = useState<State>({\r\n    proposalType: ProposalType.CORE,\r\n    filterState: ProposalState.ACTIVE,\r\n  })\r\n  const proposalStatus = useGetProposalLoadingStatus()\r\n  const proposals = useGetProposals()\r\n  const dispatch = useAppDispatch()\r\n\r\n  const { proposalType, filterState } = state\r\n  const isLoading = proposalStatus === VotingStateLoadingStatus.LOADING\r\n  const isIdle = proposalStatus === VotingStateLoadingStatus.IDLE\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchProposals({ first: 1000, state: filterState }))\r\n  }, [filterState, dispatch])\r\n\r\n  const handleProposalTypeChange = (newProposalType: ProposalType) => {\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      proposalType: newProposalType,\r\n    }))\r\n  }\r\n\r\n  const handleFilterChange = (newFilterState: ProposalState) => {\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      filterState: newFilterState,\r\n    }))\r\n  }\r\n\r\n  const filteredProposals = filterProposalsByState(filterProposalsByType(proposals, proposalType), filterState)\r\n\r\n  return (\r\n    <Container py=\"40px\">\r\n      <Box mb=\"48px\">\r\n        <Breadcrumbs>\r\n          <BreadcrumbLink to=\"/\">{t('Home')}</BreadcrumbLink>\r\n          <Text>{t('Voting')}</Text>\r\n        </Breadcrumbs>\r\n      </Box>\r\n      <Heading as=\"h2\" scale=\"xl\" mb=\"32px\">\r\n        {t('Proposals')}\r\n      </Heading>\r\n      <Card>\r\n        <TabMenu proposalType={proposalType} onTypeChange={handleProposalTypeChange} />\r\n        <Filters filterState={filterState} onFilterChange={handleFilterChange} isLoading={isLoading} />\r\n        {isLoading && <ProposalsLoading />}\r\n        {isIdle &&\r\n          filteredProposals.length > 0 &&\r\n          filteredProposals.map((proposal) => {\r\n            return <ProposalRow key={proposal.id} proposal={proposal} />\r\n          })}\r\n        {isIdle && filteredProposals.length === 0 && (\r\n          <Flex alignItems=\"center\" justifyContent=\"center\" p=\"32px\">\r\n            <Heading as=\"h5\">{t('No proposals found')}</Heading>\r\n          </Flex>\r\n        )}\r\n      </Card>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Proposals\r\n","import React from 'react'\r\nimport { Flex } from '@pancakeswap/uikit'\r\nimport styled from 'styled-components'\r\nimport Hero from './components/Hero'\r\nimport Footer from './components/Footer'\r\nimport { Proposals } from './components/Proposals'\r\n\r\nconst Chrome = styled.div`\r\n  flex: none;\r\n`\r\n\r\nconst Content = styled.div`\r\n  flex: 1;\r\n  height: 100%;\r\n`\r\n\r\nconst Voting = () => {\r\n  return (\r\n    <Flex flexDirection=\"column\" minHeight=\"calc(100vh - 64px)\">\r\n      <Chrome>\r\n        <Hero />\r\n      </Chrome>\r\n      <Content>\r\n        <Proposals />\r\n      </Content>\r\n      <Chrome>\r\n        <Footer />\r\n      </Chrome>\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default Voting\r\n"],"sourceRoot":""}